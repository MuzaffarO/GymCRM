<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Register Trainer</title>
  <!-- Include common styles here -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #f8f9fa; }
    .form-container {
      max-width: 500px;
      margin: 80px auto;
      padding: 2rem;
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
    }
    h2 {
      text-align: center;
      margin-bottom: 1.5rem;
      color: #0d6efd;
    }
  </style>
</head>
<body>
<div class="form-container">
  <h2>Register Trainer</h2>
  <form id="trainerForm">
    <input class="form-control mb-3" id="firstName" placeholder="First Name" required />
    <input class="form-control mb-3" id="lastName" placeholder="Last Name" required />
    <input class="form-control mb-3" id="specialization" placeholder="Specialization" required />
    <button class="btn btn-primary w-100">Register</button>
  </form>
  <p id="trainerResult" class="mt-3 text-success text-center"></p>
</div>
<script>
  document.getElementById("trainerForm").addEventListener("submit", async function (event) {
    event.preventDefault();
    const payload = {
      firstName: document.getElementById("firstName").value,
      lastName: document.getElementById("lastName").value,
      specialization: { trainingTypeName: document.getElementById("specialization").value }
    };

    const res = await fetch("/users/trainer/register", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    const result = await res.json();
    document.getElementById("trainerResult").innerText =
            res.ok ? `Registered: ${result.username} / ${result.password}` : "Registration failed.";
  });
</script>
</body>
</html>
